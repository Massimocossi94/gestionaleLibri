(function(t){function a(a){for(var o,n,r=a[0],l=a[1],c=a[2],d=0,b=[];d<r.length;d++)n=r[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&b.push(i[n][0]),i[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(a);while(b.length)b.shift()();return s.push.apply(s,c||[]),e()}function e(){for(var t,a=0;a<s.length;a++){for(var e=s[a],o=!0,r=1;r<e.length;r++){var l=e[r];0!==i[l]&&(o=!1)}o&&(s.splice(a--,1),t=n(n.s=e[0]))}return t}var o={},i={app:0},s=[];function n(a){if(o[a])return o[a].exports;var e=o[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=o,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var o in t)n.d(e,o,function(a){return t[a]}.bind(null,o));return e},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=a,r=r.slice();for(var c=0;c<r.length;c++)a(r[c]);var u=l;s.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";e("85ec")},"18fd":function(t,a,e){},"4be0":function(t,a,e){"use strict";e("d3b4")},"566f":function(t,a,e){"use strict";e("18fd")},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var o=e("2b0e"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("navbar"),e("router-view")],1)},s=[],n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar is-info",attrs:{role:"navigation","aria-label":"main navigation"}},[e("div",{staticClass:"navbar-brand"},[t._m(0),e("a",{staticClass:"navbar-burger",class:{"is-active":t.showNav},attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},on:{click:function(a){t.showNav=!t.showNav}}},[e("span",{attrs:{"aria-hidden":"true"}}),e("span",{attrs:{"aria-hidden":"true"}}),e("span",{attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"navbar-menu",class:{"is-active":t.showNav},attrs:{id:"navbarBasicExample"}},[e("div",{staticClass:"navbar-start"},[e("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[t._v(" RICERCA LIBRO ")]),e("router-link",{staticClass:"navbar-item",attrs:{to:"/books"}},[t._v(" I TUOI LIBRI ")])],1)])])},r=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("a",{staticClass:"navbar-item"},[o("img",{attrs:{src:e("a862"),width:"170",height:"38"}})])}],l={name:"Navbar",data:function(){return{showNav:!1}}},c=l,u=(e("893d"),e("2877")),d=Object(u["a"])(c,n,r,!1,null,"6c7f6fc3",null),b=d.exports,v={components:{Navbar:b},name:"App",data:function(){return{}}},m=v,p=(e("034f"),Object(u["a"])(m,i,s,!1,null,null,null)),f=p.exports,k=e("8c4f"),g=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"columns search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"input column is-11",attrs:{type:"text",placeholder:"Fai la tua ricerca (autore, titolo, etc.)"},domProps:{value:t.query},on:{keypress:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.getBooks()},input:function(a){a.target.composing||(t.query=a.target.value)}}}),e("button",{staticClass:"button is-primary is-1",on:{click:function(a){return t.getBooks()}}},[t._v("Cerca")])]),e("section",{staticClass:"section"},[e("div",{staticClass:"columns is-multiline"},t._l(t.books,(function(a){return e("div",{key:a.id,staticClass:"column is-6"},[e("book",{attrs:{book:a},on:{addBook:function(a){return t.onAddBook(a)}}})],1)})),0),e("div",{staticClass:"modal",class:{"is-active":t.confermaModal}},[e("div",{staticClass:"modal-background"}),e("div",{staticClass:"modal-card"},[e("section",{staticClass:"modal-card-body",class:{conferma:t.libroSuccesso,presente:t.libroGiaPresente}},[e("h1",{staticClass:"presenzaLibro"},[t._v(t._s(t.libroPresente))]),e("button",{staticClass:"button okbutton",on:{click:function(a){t.confermaModal=!1}}},[e("p",{staticClass:"subtitle"},[t._v("OK")])])])])])])])},C=[],h=e("1da1"),_=(e("96cf"),e("d3b7"),e("25f0"),e("a4d3"),e("e01a"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.book?e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"media"},[t.book.volumeInfo.imageLinks?e("div",{staticClass:"media-left"},[e("figure",{staticClass:"image is-68x68"},[e("img",{attrs:{src:t.book.volumeInfo.imageLinks.thumbnail,alt:t.book.volumeInfo.title}})])]):t._e(),e("div",{staticClass:"media-content"},[e("p",{staticClass:"title is-6"},[t._v(t._s(t.book.volumeInfo.title))]),t.book.volumeInfo.authors?e("p",{staticClass:"subtitle is-6"},[t._v(t._s(t.getAuthors(t.book.volumeInfo.authors)))]):t._e()])]),e("div",{staticClass:"content"},[t._v(" Editore: "+t._s(t.book.volumeInfo.publisher)),e("br"),t._v(" Pubblicato il "+t._s(new Date(t.book.volumeInfo.publishedDate).toLocaleDateString())),e("br"),t._v(" ISBN: "+t._s(t.getISBN(t.book.volumeInfo.industryIdentifiers))),e("br")]),e("div",{staticClass:"cardButton"},[e("button",{staticClass:"button is-primary is-info",on:{click:function(a){t.tramaModal=!0}}},[t._v("Trama")]),e("button",{staticClass:"button is-primary is-focused",on:{click:function(a){t.aggiungiModal=!0}}},[t._v("Aggiungi")])]),e("div",{staticClass:"modal",class:{"is-active":t.tramaModal}},[e("div",{staticClass:"modal-background"}),e("div",{staticClass:"modal-card"},[e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[t._v("Trama")]),e("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(a){t.tramaModal=!1}}})]),e("section",{staticClass:"modal-card-body"},[e("div",{staticClass:"title is-6"},[t._v(t._s(t.book.volumeInfo.title))]),e("span",[t._v(t._s(t.getTrama(t.book)))])])])])]),e("div",{staticClass:"modal",class:{"is-active":t.aggiungiModal}},[e("div",{staticClass:"modal-background"}),e("div",{staticClass:"modal-card"},[e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[t._v("In quale formato hai il libro?")]),e("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(a){t.aggiungiModal=!1}}})]),e("section",{staticClass:"modal-card-body"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Seleziona tipologia")]),e("div",{staticClass:"control"},[e("div",{staticClass:"select"},[e("select",{on:{change:t.onTipologiaChange}},[e("option",[t._v("Seleziona tipologia")]),e("option",{attrs:{value:"Cartaceo"}},[t._v("Cartaceo")]),e("option",{attrs:{value:"Ebook"}},[t._v("Ebook")]),e("option",{attrs:{value:"AudioLibro"}},[t._v("Audio libro")])])])])])]),e("footer",{staticClass:"modal-card-foot formatButtons"},[e("button",{staticClass:"button",on:{click:function(a){t.aggiungiModal=!1}}},[t._v("Chiudi")]),e("button",{staticClass:"button is-primary",attrs:{disabled:""===t.tipologiaLibro},on:{click:t.addBook}},[t._v("Aggiungi Libro")])])])])]):t._e()}),y=[],x=(e("a15b"),e("7db0"),{name:"Book",props:{book:Object},data:function(){return{tramaModal:!1,aggiungiModal:!1,tipologiaLibro:""}},methods:{onTipologiaChange:function(t){this.tipologiaLibro=t.target.value},getAuthors:function(t){return t.join(", ")},getISBN:function(t){var a=t.find((function(t){return"ISBN_13"===t.type}));return a?a.identifier:"Non trovato"},getTrama:function(t){var a="Trama non disponibile";return t.volumeInfo.description&&(a=t.volumeInfo.description),a},addBook:function(){this.$emit("addBook",{book:this.book,tipologia:this.tipologiaLibro}),this.aggiungiModal=!1}}}),w=x,B=(e("566f"),Object(u["a"])(w,_,y,!1,null,"6a3d7f69",null)),O=B.exports,M="https://gestionale-libri-backend.herokuapp.com/book",I={components:{Book:O},name:"App",created:function(){},data:function(){return{books:[],query:"",tramaModal:!1,aggiungiModal:!1,tipologiaLibro:"",confermaModal:!1,libroPresente:"",libroGiaPresente:!1,libroSuccesso:!1}},methods:{onAddBook:function(t){var a=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var o,i,s,n,r,l,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t.book,i=t.tipologia,s={titolo:o.volumeInfo.title,autori:o.volumeInfo.authors.toString(),trama:o.volumeInfo.description,thumbnail:o.volumeInfo.imageLinks.thumbnail,dataPubblicazione:o.volumeInfo.publishedDate,editore:o.volumeInfo.publisher,isbn:o.volumeInfo.industryIdentifiers[0].identifier,tipologia:i},n=!0,e.next=5,fetch(M);case 5:return r=e.sent,e.next=8,r.json();case 8:for(l=e.sent,c=0;c<l.book.length;c++)l.book[c].titolo===s.titolo&&(a.confermaModal=!0,a.libroGiaPresente=!0,a.libroSuccesso=!1,a.libroPresente="Libro giÃ  presente in libreria",n=!1);if(!n){e.next=21;break}return console.log("newBook",s),e.next=14,fetch(M,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)});case 14:return u=e.sent,e.next=17,u.json();case 17:a.confermaModal=!0,a.libroSuccesso=!0,a.libroGiaPresente=!1,a.libroPresente="Libro aggiunto in libreria con successo";case 21:case"end":return e.stop()}}),e)})))()},getBooks:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function a(){var e,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("https://www.googleapis.com/books/v1/volumes?q="+t.query);case 3:return e=a.sent,a.next=6,e.json();case 6:o=a.sent,t.books=o.items,a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),console.log("errore: ",a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()}}},S=I,j=(e("4be0"),Object(u["a"])(S,g,C,!1,null,null,null)),L=j.exports,P=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("section",{staticClass:"section"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Ricerca per autore")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.ricercaAutore,expression:"ricercaAutore"}],staticClass:"input",attrs:{type:"text",placeholder:"es. Donato Carrisi"},domProps:{value:t.ricercaAutore},on:{input:function(a){a.target.composing||(t.ricercaAutore=a.target.value)}}})])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Filtra per tipologia")]),e("div",{staticClass:"control"},[e("div",{staticClass:"select"},[e("select",{on:{change:t.onOptionChange}},[e("option",{attrs:{value:"All"}},[t._v("Tutti")]),t._l(t.options,(function(a){return e("option",{key:a.value,domProps:{value:a.value}},[t._v(t._s(a.label))])}))],2)])])]),t.libriFiltrati.length>0?e("div",{staticClass:"columns is-multiline"},t._l(t.libriFiltrati,(function(a){return e("div",{key:a.id,staticClass:"column is-6"},[e("my-book",{attrs:{book:a},on:{deleteBook:function(a){return t.onDeleteBook(a)},updateBook:function(a){return t.onUpdateBook(a)}}})],1)})),0):e("h2",{staticClass:"title is-2"},[t._v("Nessun libro trovato.")])])])},A=[],N=(e("159b"),e("4de4"),e("caad"),e("2532"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.book?e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"media"},[t.book.thumbnail?e("div",{staticClass:"media-left"},[e("figure",{staticClass:"image is-68x68"},[e("img",{attrs:{src:t.book.thumbnail,alt:t.book.titolo}})])]):t._e(),e("div",{staticClass:"media-content"},[e("p",{staticClass:"title is-6"},[t._v(t._s(t.book.titolo))]),t.book.autori?e("p",{staticClass:"subtitle is-6"},[t._v(t._s(t.book.autori))]):t._e(),e("button",{staticClass:"button is-small is-info is-outlined",on:{click:function(a){t.tramaModalLibrary=!0}}},[t._v("Trama")])])]),e("div",{staticClass:"content"},[t._v(" Editore: "+t._s(t.book.editore)),e("br"),t._v(" Pubblicato il "+t._s(new Date(t.book.dataPubblicazione).toLocaleDateString())),e("br"),t._v(" ISBN: "+t._s(t.book.isbn)),e("br"),t._v(" Formato: "+t._s(t.book.tipologia)),e("br")]),e("div",{staticClass:"cardButton"},[e("button",{staticClass:"button is-primary is-info",on:{click:function(a){t.modificaModale=!0}}},[t._v("Modifica")]),e("button",{staticClass:"button is-primary is-focused",on:{click:function(a){t.confermaDelete=!0}}},[t._v("Elimina")])]),e("div",{staticClass:"modal",class:{"is-active":t.tramaModalLibrary}},[e("div",{staticClass:"modal-background"}),e("div",{staticClass:"modal-card"},[e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[t._v("Trama")]),e("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(a){t.tramaModalLibrary=!1}}})]),e("section",{staticClass:"modal-card-body"},[e("div",{staticClass:"title is-6"},[t._v(t._s(t.book.titolo))]),e("span",[t._v(t._s(t.getTrama(t.book)))])])])]),e("div",{staticClass:"modal",class:{"is-active":t.modificaModale}},[e("div",{staticClass:"modal-background"}),e("div",{staticClass:"modal-card"},[e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[t._v("Modifica")]),e("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(a){t.modificaModale=!1}}})]),e("section",{staticClass:"modal-card-body"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Titolo")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.book.titolo,expression:"book.titolo"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.book.titolo},on:{input:function(a){a.target.composing||t.$set(t.book,"titolo",a.target.value)}}})])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Autore/i")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.book.autori,expression:"book.autori"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.book.autori},on:{input:function(a){a.target.composing||t.$set(t.book,"autori",a.target.value)}}})])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Editore")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.book.editore,expression:"book.editore"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.book.editore},on:{input:function(a){a.target.composing||t.$set(t.book,"editore",a.target.value)}}})])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("ISBN")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.book.isbn,expression:"book.isbn"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.book.isbn},on:{input:function(a){a.target.composing||t.$set(t.book,"isbn",a.target.value)}}})])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Trama")]),e("div",{staticClass:"control"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.book.trama,expression:"book.trama"}],staticClass:"textarea",domProps:{value:t.book.trama},on:{input:function(a){a.target.composing||t.$set(t.book,"trama",a.target.value)}}})])]),e("button",{staticClass:"button is-info",on:{click:t.updateBook}},[t._v("Salva")])])])]),e("div",{staticClass:"modal",class:{"is-active":t.confermaDelete}},[e("div",{staticClass:"modal-background"}),e("div",{staticClass:"modal-card"},[e("section",{staticClass:"modal-card-body deleteModal"},[e("h1",{staticClass:"eliminaLibro"},[t._v("Sei sicuro/a di voler eliminare il libro?")]),e("div",{staticClass:"deleteButton"},[e("button",{staticClass:"button is-danger",on:{click:function(a){t.confermaDelete=!1}}},[t._v("ANNULLA")]),e("button",{staticClass:"button is-success",on:{click:function(a){t.deleteBook(),t.confermaDelete=!1}}},[t._v("CONFERMA")])])])])])])]):t._e()}),E=[],T={props:{book:[]},data:function(){return{tramaModalLibrary:!1,confermaDelete:!1,modificaModale:!1}},methods:{deleteBook:function(){this.$emit("deleteBook",this.book)},getTrama:function(t){var a="Trama non disponibile";return t.trama&&(a=t.trama),a},updateBook:function(){this.$emit("updateBook",this.book),this.modificaModale=!1}}},R=T,$=(e("be64"),Object(u["a"])(R,N,E,!1,null,null,null)),D=$.exports,q={components:{MyBook:D},name:"Libreria",data:function(){return{books:[],options:[{value:"Ebook",label:"EBook"},{value:"Cartaceo",label:"Cartaceo"},{value:"AudioLibro",label:"Audio libro"}],optionSelected:null,ricercaAutore:""}},created:function(){this.getbooks()},computed:{libriFiltrati:function(){var t=this,a=[];return null!==this.optionSelected&&"All"!==this.optionSelected?this.books.forEach((function(e){e.tipologia===t.optionSelected&&a.push(e)})):a=this.books,""!==this.ricercaAutore&&(a=a.filter((function(a){return a.autori.toLowerCase().includes(t.ricercaAutore.toLowerCase())}))),a}},methods:{onOptionChange:function(t){this.optionSelected=t.target.value},getbooks:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function a(){var e,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch(M);case 3:return e=a.sent,a.next=6,e.json();case 6:o=a.sent,t.books=o.book,a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),console.log("errore: ",a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},onUpdateBook:function(t){var a=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(M+"/"+t.id,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return o=e.sent,e.next=6,o.json();case 6:a.getbooks(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log("errore: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},onDeleteBook:function(t){var a=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(M+"/"+t.id,{method:"DELETE"});case 3:return o=e.sent,e.next=6,o.json();case 6:a.getbooks(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log("errore: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}},F=q,z=Object(u["a"])(F,P,A,!1,null,null,null),G=z.exports;o["a"].use(k["a"]);var J=[{path:"/",component:L},{path:"/books",component:G}],U=new k["a"]({mode:"history",routes:J});o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(f)},router:U}).$mount("#app")},"5c72":function(t,a,e){},"85ec":function(t,a,e){},"893d":function(t,a,e){"use strict";e("eea9")},a862:function(t,a,e){t.exports=e.p+"img/HOME'S BOOKS2.06b87399.png"},be64:function(t,a,e){"use strict";e("5c72")},d3b4:function(t,a,e){},eea9:function(t,a,e){}});
//# sourceMappingURL=app.827fa709.js.map